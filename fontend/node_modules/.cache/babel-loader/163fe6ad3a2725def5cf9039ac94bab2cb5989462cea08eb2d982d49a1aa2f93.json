{"ast":null,"code":"function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nexport default function ajaxUpload(options) {\n  var name = options.name,\n    timeout = options.timeout,\n    _options$headers = options.headers,\n    headers = _options$headers === void 0 ? {} : _options$headers,\n    _options$data = options.data,\n    data = _options$data === void 0 ? {} : _options$data,\n    _options$method = options.method,\n    method = _options$method === void 0 ? 'POST' : _options$method,\n    onError = options.onError,\n    onSuccess = options.onSuccess,\n    onProgress = options.onProgress,\n    file = options.file,\n    url = options.url,\n    withCredentials = options.withCredentials,\n    disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open(method, url, true);\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n  if (timeout) {\n    xhr.timeout = timeout;\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}","map":{"version":3,"names":["getResponse","xhr","text","responseText","response","JSON","parse","e","ajaxUpload","options","name","timeout","_options$headers","headers","_options$data","data","_options$method","method","onError","onSuccess","onProgress","file","url","withCredentials","disableMultipart","XMLHttpRequest","sendableData","open","FormData","append","key","Object","keys","forEach","setRequestHeader","ontimeout","event","type","onload","resp","status","upload","onprogress","percent","lengthComputable","loaded","total","onerror","send"],"sources":["/Users/peeranat/Desktop/Project/fontend/node_modules/rsuite/esm/utils/ajaxUpload.js"],"sourcesContent":["function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      _options$method = options.method,\n      method = _options$method === void 0 ? 'POST' : _options$method,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials,\n      disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open(method, url, true);\n\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}