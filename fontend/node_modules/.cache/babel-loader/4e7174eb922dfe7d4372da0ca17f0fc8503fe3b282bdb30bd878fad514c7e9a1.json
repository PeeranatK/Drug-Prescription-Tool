{"ast":null,"code":"// Headless ARIA `menubar`\nimport React, { useCallback, useRef } from 'react';\nimport isNil from 'lodash/isNil';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport { isFocusEntering, isFocusLeaving } from '../utils/events';\nimport useMenu from './useMenu';\nimport { isFocusableElement } from '../utils/dom';\n\n/**\n * @private\n */\nexport default function Menubar(_ref) {\n  var _items$activeItemInde3;\n  var _ref$vertical = _ref.vertical,\n    vertical = _ref$vertical === void 0 ? false : _ref$vertical,\n    children = _ref.children,\n    onActivateItem = _ref.onActivateItem;\n  var menubar = useMenu({\n    role: 'menubar'\n  });\n  var _menubar$ = menubar[0],\n    items = _menubar$.items,\n    activeItemIndex = _menubar$.activeItemIndex,\n    dispatch = menubar[1];\n  var menubarElementRef = useRef(null);\n  var onFocus = useCallback(function (event) {\n    // Focus moves inside Menubar\n    if (isFocusEntering(event) &&\n    // Skip if focus is moving to a focusable element within this menu\n    !(event.target !== event.currentTarget && isFocusableElement(event.target))) {\n      if (activeItemIndex === null) {\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n      }\n    }\n  }, [activeItemIndex, dispatch]);\n  var onBlur = useCallback(function (event) {\n    // Focus moves outside of Menubar\n    if (isFocusLeaving(event)) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.None\n      });\n    }\n  }, [dispatch]);\n  var _useCustom = useCustom('Menubar'),\n    rtl = _useCustom.rtl;\n  var onKeyDown = useCallback(function (event) {\n    var _items$activeItemInde, _items$activeItemInde2;\n    var activeItemElement = isNil(activeItemIndex) ? null : (_items$activeItemInde = (_items$activeItemInde2 = items[activeItemIndex]) === null || _items$activeItemInde2 === void 0 ? void 0 : _items$activeItemInde2.element) !== null && _items$activeItemInde !== void 0 ? _items$activeItemInde : null;\n    switch (true) {\n      case !vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case !vertical && rtl && event.key === KEY_VALUES.LEFT:\n      case vertical && event.key === KEY_VALUES.DOWN:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n      case !vertical && !rtl && event.key === KEY_VALUES.LEFT:\n      case !vertical && rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && event.key === KEY_VALUES.UP:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n      case event.key === KEY_VALUES.HOME:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n      case event.key === KEY_VALUES.END:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n      case !vertical && event.key === KEY_VALUES.DOWN:\n      case vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && rtl && event.key === KEY_VALUES.LEFT:\n        if ((activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.getAttribute('aria-haspopup')) === 'menu') {\n          event.preventDefault();\n          event.stopPropagation();\n          activeItemElement.click();\n        }\n        break;\n      case event.key === KEY_VALUES.ENTER:\n      case event.key === KEY_VALUES.SPACE:\n        event.preventDefault();\n        event.stopPropagation();\n        activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.click();\n        break;\n    }\n  }, [rtl, items, activeItemIndex, dispatch, vertical]); // Only used for handling click events bubbling from children\n  // Which indicates that a child menuitem is being activated\n\n  var onClick = useCallback(function (event) {\n    if (items.some(function (item) {\n      return item.element === event.target;\n    })) {\n      onActivateItem === null || onActivateItem === void 0 ? void 0 : onActivateItem(event);\n    }\n  }, [items, onActivateItem]);\n  return /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: menubar\n  }, children({\n    role: 'menubar',\n    tabIndex: 0,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onClick: onClick,\n    'aria-activedescendant': isNil(activeItemIndex) ? undefined : (_items$activeItemInde3 = items[activeItemIndex]) === null || _items$activeItemInde3 === void 0 ? void 0 : _items$activeItemInde3.element.id,\n    'aria-orientation': vertical ? 'vertical' : undefined // implicitly set 'horizontal'\n  }, menubarElementRef));\n}","map":{"version":3,"names":["React","useCallback","useRef","isNil","MenuContext","MenuActionTypes","MoveFocusTo","KEY_VALUES","useCustom","isFocusEntering","isFocusLeaving","useMenu","isFocusableElement","Menubar","_ref","_items$activeItemInde3","_ref$vertical","vertical","children","onActivateItem","menubar","role","_menubar$","items","activeItemIndex","dispatch","menubarElementRef","onFocus","event","target","currentTarget","type","MoveFocus","to","First","onBlur","None","_useCustom","rtl","onKeyDown","_items$activeItemInde","_items$activeItemInde2","activeItemElement","element","key","RIGHT","LEFT","DOWN","preventDefault","stopPropagation","Next","UP","Prev","HOME","END","Last","getAttribute","click","ENTER","SPACE","onClick","some","item","createElement","Provider","value","tabIndex","undefined","id"],"sources":["/Users/peeranat/Desktop/Project/fontend/node_modules/rsuite/esm/Menu/Menubar.js"],"sourcesContent":["// Headless ARIA `menubar`\nimport React, { useCallback, useRef } from 'react';\nimport isNil from 'lodash/isNil';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport { isFocusEntering, isFocusLeaving } from '../utils/events';\nimport useMenu from './useMenu';\nimport { isFocusableElement } from '../utils/dom';\n\n/**\n * @private\n */\nexport default function Menubar(_ref) {\n  var _items$activeItemInde3;\n\n  var _ref$vertical = _ref.vertical,\n      vertical = _ref$vertical === void 0 ? false : _ref$vertical,\n      children = _ref.children,\n      onActivateItem = _ref.onActivateItem;\n  var menubar = useMenu({\n    role: 'menubar'\n  });\n  var _menubar$ = menubar[0],\n      items = _menubar$.items,\n      activeItemIndex = _menubar$.activeItemIndex,\n      dispatch = menubar[1];\n  var menubarElementRef = useRef(null);\n  var onFocus = useCallback(function (event) {\n    // Focus moves inside Menubar\n    if (isFocusEntering(event) && // Skip if focus is moving to a focusable element within this menu\n    !(event.target !== event.currentTarget && isFocusableElement(event.target))) {\n      if (activeItemIndex === null) {\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n      }\n    }\n  }, [activeItemIndex, dispatch]);\n  var onBlur = useCallback(function (event) {\n    // Focus moves outside of Menubar\n    if (isFocusLeaving(event)) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.None\n      });\n    }\n  }, [dispatch]);\n\n  var _useCustom = useCustom('Menubar'),\n      rtl = _useCustom.rtl;\n\n  var onKeyDown = useCallback(function (event) {\n    var _items$activeItemInde, _items$activeItemInde2;\n\n    var activeItemElement = isNil(activeItemIndex) ? null : (_items$activeItemInde = (_items$activeItemInde2 = items[activeItemIndex]) === null || _items$activeItemInde2 === void 0 ? void 0 : _items$activeItemInde2.element) !== null && _items$activeItemInde !== void 0 ? _items$activeItemInde : null;\n\n    switch (true) {\n      case !vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case !vertical && rtl && event.key === KEY_VALUES.LEFT:\n      case vertical && event.key === KEY_VALUES.DOWN:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n\n      case !vertical && !rtl && event.key === KEY_VALUES.LEFT:\n      case !vertical && rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && event.key === KEY_VALUES.UP:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n\n      case event.key === KEY_VALUES.HOME:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n\n      case event.key === KEY_VALUES.END:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n\n      case !vertical && event.key === KEY_VALUES.DOWN:\n      case vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && rtl && event.key === KEY_VALUES.LEFT:\n        if ((activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.getAttribute('aria-haspopup')) === 'menu') {\n          event.preventDefault();\n          event.stopPropagation();\n          activeItemElement.click();\n        }\n\n        break;\n\n      case event.key === KEY_VALUES.ENTER:\n      case event.key === KEY_VALUES.SPACE:\n        event.preventDefault();\n        event.stopPropagation();\n        activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.click();\n        break;\n    }\n  }, [rtl, items, activeItemIndex, dispatch, vertical]); // Only used for handling click events bubbling from children\n  // Which indicates that a child menuitem is being activated\n\n  var onClick = useCallback(function (event) {\n    if (items.some(function (item) {\n      return item.element === event.target;\n    })) {\n      onActivateItem === null || onActivateItem === void 0 ? void 0 : onActivateItem(event);\n    }\n  }, [items, onActivateItem]);\n  return /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: menubar\n  }, children({\n    role: 'menubar',\n    tabIndex: 0,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onClick: onClick,\n    'aria-activedescendant': isNil(activeItemIndex) ? undefined : (_items$activeItemInde3 = items[activeItemIndex]) === null || _items$activeItemInde3 === void 0 ? void 0 : _items$activeItemInde3.element.id,\n    'aria-orientation': vertical ? 'vertical' : undefined // implicitly set 'horizontal'\n\n  }, menubarElementRef));\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}