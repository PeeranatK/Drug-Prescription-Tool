{"ast":null,"code":"import { useEffect, useCallback } from 'react';\nimport contains from 'dom-lib/contains';\nimport ownerDocument from 'dom-lib/ownerDocument';\nimport on from 'dom-lib/on';\nimport { getDOMNode, KEY_VALUES } from './';\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event !== null && event !== void 0 && event.shiftKey);\n}\n\n/**\n * A hook that listens to the document click event and closes the overlay.\n * @param onRootClose\n * @param param1\n * @todo Allow different behaviors based on whether clicked element is focusable\n */\nfunction useRootClose(onRootClose, _ref) {\n  var disabled = _ref.disabled,\n    triggerTarget = _ref.triggerTarget,\n    overlayTarget = _ref.overlayTarget,\n    _ref$listenEscape = _ref.listenEscape,\n    listenEscape = _ref$listenEscape === void 0 ? true : _ref$listenEscape;\n  var handleDocumentKeyUp = useCallback(function (event) {\n    if (listenEscape && event.key === KEY_VALUES.ESC) {\n      onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n    }\n  }, [listenEscape, onRootClose]);\n  var handleDocumentMouseDown = useCallback(function (event) {\n    var triggerElement = getDOMNode(triggerTarget);\n    var overlayElement = getDOMNode(overlayTarget); // Check if the clicked element is a trigger.\n\n    if (triggerElement && contains(triggerElement, event.target)) {\n      return;\n    } // Check if the clicked element is a overlay.\n\n    if (overlayElement && contains(overlayElement, event.target)) {\n      return;\n    }\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n    onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n  }, [onRootClose, triggerTarget, overlayTarget]);\n  useEffect(function () {\n    var currentTarget = getDOMNode(triggerTarget);\n    if (disabled || !currentTarget) return;\n    var doc = ownerDocument(currentTarget);\n    var onDocumentMouseDownListener = on(doc, 'mousedown', handleDocumentMouseDown, true);\n    var onDocumentKeyupListener = on(doc, 'keyup', handleDocumentKeyUp);\n    return function () {\n      onDocumentMouseDownListener === null || onDocumentMouseDownListener === void 0 ? void 0 : onDocumentMouseDownListener.off();\n      onDocumentKeyupListener === null || onDocumentKeyupListener === void 0 ? void 0 : onDocumentKeyupListener.off();\n    };\n  }, [triggerTarget, disabled, onRootClose, handleDocumentMouseDown, handleDocumentKeyUp]);\n}\nexport default useRootClose;","map":{"version":3,"names":["useEffect","useCallback","contains","ownerDocument","on","getDOMNode","KEY_VALUES","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","useRootClose","onRootClose","_ref","disabled","triggerTarget","overlayTarget","_ref$listenEscape","listenEscape","handleDocumentKeyUp","key","ESC","handleDocumentMouseDown","triggerElement","overlayElement","target","currentTarget","doc","onDocumentMouseDownListener","onDocumentKeyupListener","off"],"sources":["/Users/peeranat/Desktop/Project/fontend/node_modules/rsuite/esm/utils/useRootClose.js"],"sourcesContent":["import { useEffect, useCallback } from 'react';\nimport contains from 'dom-lib/contains';\nimport ownerDocument from 'dom-lib/ownerDocument';\nimport on from 'dom-lib/on';\nimport { getDOMNode, KEY_VALUES } from './';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event !== null && event !== void 0 && event.shiftKey);\n}\n\n/**\n * A hook that listens to the document click event and closes the overlay.\n * @param onRootClose\n * @param param1\n * @todo Allow different behaviors based on whether clicked element is focusable\n */\nfunction useRootClose(onRootClose, _ref) {\n  var disabled = _ref.disabled,\n      triggerTarget = _ref.triggerTarget,\n      overlayTarget = _ref.overlayTarget,\n      _ref$listenEscape = _ref.listenEscape,\n      listenEscape = _ref$listenEscape === void 0 ? true : _ref$listenEscape;\n  var handleDocumentKeyUp = useCallback(function (event) {\n    if (listenEscape && event.key === KEY_VALUES.ESC) {\n      onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n    }\n  }, [listenEscape, onRootClose]);\n  var handleDocumentMouseDown = useCallback(function (event) {\n    var triggerElement = getDOMNode(triggerTarget);\n    var overlayElement = getDOMNode(overlayTarget); // Check if the clicked element is a trigger.\n\n    if (triggerElement && contains(triggerElement, event.target)) {\n      return;\n    } // Check if the clicked element is a overlay.\n\n\n    if (overlayElement && contains(overlayElement, event.target)) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n  }, [onRootClose, triggerTarget, overlayTarget]);\n  useEffect(function () {\n    var currentTarget = getDOMNode(triggerTarget);\n    if (disabled || !currentTarget) return;\n    var doc = ownerDocument(currentTarget);\n    var onDocumentMouseDownListener = on(doc, 'mousedown', handleDocumentMouseDown, true);\n    var onDocumentKeyupListener = on(doc, 'keyup', handleDocumentKeyUp);\n    return function () {\n      onDocumentMouseDownListener === null || onDocumentMouseDownListener === void 0 ? void 0 : onDocumentMouseDownListener.off();\n      onDocumentKeyupListener === null || onDocumentKeyupListener === void 0 ? void 0 : onDocumentKeyupListener.off();\n    };\n  }, [triggerTarget, disabled, onRootClose, handleDocumentMouseDown, handleDocumentKeyUp]);\n}\n\nexport default useRootClose;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}